<!DOCTYPE html>



  


<html class="theme-next gemini use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.2" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="ViewPager," />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.2" />






<meta name="description" content="基于ViewPager做一个广告轮播图">
<meta name="keywords" content="ViewPager">
<meta property="og:type" content="article">
<meta property="og:title" content="viewpager广告轮播">
<meta property="og:url" content="http://yoursite.com/2017/07/04/ViewPager--viewpager广告轮播/index.html">
<meta property="og:site_name" content="不忘初心">
<meta property="og:description" content="基于ViewPager做一个广告轮播图">
<meta property="og:locale" content="zh-Hans">
<meta property="og:image" content="http://images.wxyass.com/wxyass/images/20170704141513.png">
<meta property="og:updated_time" content="2017-09-29T07:38:10.649Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="viewpager广告轮播">
<meta name="twitter:description" content="基于ViewPager做一个广告轮播图">
<meta name="twitter:image" content="http://images.wxyass.com/wxyass/images/20170704141513.png">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '5.1.2',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/2017/07/04/ViewPager--viewpager广告轮播/"/>





  <title>viewpager广告轮播 | 不忘初心</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">不忘初心</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br />
            
            关于
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/07/04/ViewPager--viewpager广告轮播/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="wxyass">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="http://oss.wxyass.com/avatar/shuai.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="不忘初心">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">viewpager广告轮播</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-07-04T13:53:09+08:00">
                2017-07-04
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/ViewPager/" itemprop="url" rel="index">
                    <span itemprop="name">ViewPager</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>基于ViewPager做一个广告轮播图  </p>
<a id="more"></a>  
<h4 id="一-初步搭起viewpager轮播"><a href="#一-初步搭起viewpager轮播" class="headerlink" title="一 初步搭起viewpager轮播"></a>一 初步搭起viewpager轮播</h4><h5 id="1-1-在activity-main-xml中放置viewpager控件"><a href="#1-1-在activity-main-xml中放置viewpager控件" class="headerlink" title="1.1 在activity_main.xml中放置viewpager控件"></a>1.1 在activity_main.xml中放置viewpager控件</h5><pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
&lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;
             xmlns:tools=&quot;http://schemas.android.com/tools&quot;
             android:layout_width=&quot;match_parent&quot;
             android:layout_height=&quot;match_parent&quot;
             android:orientation=&quot;vertical&quot;
             tools:context=&quot;.MainActivity&quot;&gt;

    &lt;android.support.v4.view.ViewPager
        android:id=&quot;@+id/viewpager&quot;
        android:layout_width=&quot;match_parent&quot;
        android:layout_height=&quot;320dp&quot;/&gt;

&lt;/FrameLayout&gt;
</code></pre><h5 id="1-2-代码中准备数据"><a href="#1-2-代码中准备数据" class="headerlink" title="1.2 代码中准备数据"></a>1.2 代码中准备数据</h5><pre><code>private int[] mImages = {
        R.drawable.img1,
        R.drawable.img2,
        R.drawable.img3,
        R.drawable.img4,
        R.drawable.img5
};
</code></pre><h5 id="1-3-设置适配器"><a href="#1-3-设置适配器" class="headerlink" title="1.3 设置适配器"></a>1.3 设置适配器</h5><pre><code>import android.content.Context;
import android.support.v4.view.PagerAdapter;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.ImageView;

/**
 * Created by wxyass
 */

public class BannerAdapter extends PagerAdapter{

    private LayoutInflater mInflater;
    private int[] mImages;

    public BannerAdapter(Context context,int[] mImagesi) {
        mInflater = LayoutInflater.from(context);
        mImages = mImagesi;
    }


    // 个数
    @Override
    public int getCount() {
        return mImages.length;
    }

    /**
     * 判断是否可以复用条目
     */
    @Override
    public boolean isViewFromObject(View view, Object object) {
        return view == object;
    }

    /**
     * 初始化条目
     */
    @Override
    public Object instantiateItem(ViewGroup container, int position) {

        // 条目布局
        View view = mInflater.inflate(R.layout.item, container, false);
        ImageView imageView = (ImageView) view.findViewById(R.id.image);
        imageView.setImageResource(mImages[position]);

        // 将图片控件添加到容器
        container.addView(view);

        // 返回
        return view;
    }

    /**
     * 销毁条目
     */
    @Override
    public void destroyItem(ViewGroup container, int position, Object object) {
        container.removeView((View) object);
    }
}
</code></pre><h5 id="1-4-附上viewpager的adapter条目的布局"><a href="#1-4-附上viewpager的adapter条目的布局" class="headerlink" title="1.4  附上viewpager的adapter条目的布局"></a>1.4  附上viewpager的adapter条目的布局</h5><pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;
    android:layout_width=&quot;match_parent&quot;
    android:layout_height=&quot;match_parent&quot;
    android:background=&quot;#b0b0b0&quot;&gt;

    &lt;ImageView
        android:layout_width=&quot;match_parent&quot;
        android:layout_height=&quot;match_parent&quot;
        android:scaleType=&quot;centerCrop&quot;
        android:id=&quot;@+id/image&quot; /&gt;
&lt;/LinearLayout&gt;
</code></pre><h5 id="1-5-代码中调用适配器"><a href="#1-5-代码中调用适配器" class="headerlink" title="1.5 代码中调用适配器"></a>1.5 代码中调用适配器</h5><pre><code>import android.os.Bundle;
import android.support.v4.view.ViewPager;
import android.support.v7.app.AppCompatActivity;

public class MainActivity extends AppCompatActivity {

    private ViewPager mBanner;

    // 图片资源
    private int[] mImages = {
            R.drawable.img1,
            R.drawable.img2,
            R.drawable.img3,
            R.drawable.img4,
            R.drawable.img5
    };

    BannerAdapter mBannerAdapter;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        mBanner = (ViewPager) findViewById(R.id.viewpager);

        // 调用适配器
        mBannerAdapter = new BannerAdapter(this,mImages);
        mBanner.setAdapter(mBannerAdapter);
    }

}
</code></pre><h4 id="二-添加底部小圆点"><a href="#二-添加底部小圆点" class="headerlink" title="二 添加底部小圆点"></a>二 添加底部小圆点</h4><h5 id="2-1-修改activity-main-xml布局"><a href="#2-1-修改activity-main-xml布局" class="headerlink" title="2.1 修改activity_main.xml布局"></a>2.1 修改activity_main.xml布局</h5><pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;
                xmlns:tools=&quot;http://schemas.android.com/tools&quot;
                android:layout_width=&quot;match_parent&quot;
                android:layout_height=&quot;match_parent&quot;
                tools:context=&quot;.MainActivity&quot;&gt;

    &lt;android.support.v4.view.ViewPager
        android:id=&quot;@+id/viewpager&quot;
        android:layout_width=&quot;match_parent&quot;
        android:layout_height=&quot;320dp&quot;/&gt;

    &lt;LinearLayout
        android:layout_width=&quot;match_parent&quot;
        android:layout_height=&quot;wrap_content&quot;
        android:layout_alignBottom=&quot;@id/viewpager&quot;
        android:background=&quot;#66000000&quot;
        android:gravity=&quot;center_horizontal&quot;
        android:orientation=&quot;vertical&quot;
        android:padding=&quot;5dp&quot;&gt;

        &lt;TextView
            android:id=&quot;@+id/tv_image_description&quot;
            android:layout_width=&quot;wrap_content&quot;
            android:layout_height=&quot;wrap_content&quot;
            android:singleLine=&quot;true&quot;
            android:text=&quot;图片描述&quot;
            android:textColor=&quot;#FFFFFF&quot;
            android:textSize=&quot;16sp&quot;/&gt;

        &lt;LinearLayout
            android:id=&quot;@+id/pointgroup&quot;
            android:layout_width=&quot;wrap_content&quot;
            android:layout_height=&quot;wrap_content&quot;
            android:layout_alignParentBottom=&quot;true&quot;
            android:layout_centerHorizontal=&quot;true&quot;
            android:layout_marginBottom=&quot;3dp&quot;
            android:orientation=&quot;horizontal&quot;/&gt;

    &lt;/LinearLayout&gt;

&lt;/RelativeLayout&gt;
</code></pre><h5 id="2-2-制作小圆点颜色选择器"><a href="#2-2-制作小圆点颜色选择器" class="headerlink" title="2.2 制作小圆点颜色选择器"></a>2.2 制作小圆点颜色选择器</h5><pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
&lt;selector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;
    &lt;item android:drawable=&quot;@drawable/shape_bg_point_enable&quot; android:state_enabled=&quot;true&quot;/&gt;
    &lt;item android:drawable=&quot;@drawable/shape_bg_point_disable&quot; android:state_enabled=&quot;false&quot;/&gt;
&lt;/selector&gt;

&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
&lt;shape xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;
    android:shape=&quot;oval&quot; &gt;
    &lt;corners android:radius=&quot;5dp&quot; /&gt;
    &lt;solid android:color=&quot;@android:color/darker_gray&quot; /&gt;
&lt;/shape&gt;

&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
&lt;shape xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;
    android:shape=&quot;oval&quot; &gt;
    &lt;corners android:radius=&quot;5dp&quot; /&gt;
    &lt;solid android:color=&quot;#FFFFFF&quot; /&gt;
&lt;/shape&gt;
</code></pre><p><img src="http://images.wxyass.com/wxyass/images/20170704141513.png" alt="">  </p>
<h5 id="2-3-将小圆点添加到LinearLayout容器中"><a href="#2-3-将小圆点添加到LinearLayout容器中" class="headerlink" title="2.3 将小圆点添加到LinearLayout容器中"></a>2.3 将小圆点添加到LinearLayout容器中</h5><pre><code>// 将小圆点添加到LinearLayout容器中
private void initPointGroup() {

    pointGroup = (LinearLayout) findViewById(R.id.pointgroup);

    for (int i = 0; i &lt; mImages.length; i++) {
        // 制作底部小圆点
        ImageView pointImage = new ImageView(this);
        pointImage.setImageResource(R.drawable.selector_bg_point);

        // 设置小圆点的布局参数
        LinearLayout.LayoutParams params = new LinearLayout.LayoutParams(5, 5);

        if (i &gt; 0) {
            params.leftMargin = 10;
            pointImage.setEnabled(false);
        } else {
            // 第一个点,点亮
            pointImage.setEnabled(true);
        }
        pointImage.setLayoutParams(params);
        // 添加到容器里
        pointGroup.addView(pointImage);
    }
}
</code></pre><h5 id="2-4-设置小圆点随着ViewPager切换移动"><a href="#2-4-设置小圆点随着ViewPager切换移动" class="headerlink" title="2.4 设置小圆点随着ViewPager切换移动"></a>2.4 设置小圆点随着ViewPager切换移动</h5><pre><code>// 设置小圆点随着ViewPager切换移动
private void setListen() {

    // 对ViewPager设置滑动监听
    mBanner.setOnPageChangeListener(new ViewPager.OnPageChangeListener() {

        @Override
        public void onPageScrolled(int position, float positionOffset, int positionOffsetPixels) {

        }

        int lastPosition;

        @Override
        public void onPageSelected(int position) {

            // 设置图片描述  (也可以在viewpager的条目adapter中设置图片描述)
            tv_image_description.setText(imageDescriptionArrays[position]);

            // 设置前一页不选中
            pointGroup.getChildAt(lastPosition).setEnabled(false);

            // 设置当前页面选中
            pointGroup.getChildAt(position).setEnabled(true);

            // 替换位置
            lastPosition = position;
        }

        @Override
        public void onPageScrollStateChanged(int state) {

        }
    });
}
</code></pre><h5 id="2-5-在代码onCreate中调用"><a href="#2-5-在代码onCreate中调用" class="headerlink" title="2.5 在代码onCreate中调用"></a>2.5 在代码onCreate中调用</h5><pre><code>import android.os.Bundle;
import android.support.v4.view.ViewPager;
import android.support.v7.app.AppCompatActivity;
import android.widget.ImageView;
import android.widget.LinearLayout;
import android.widget.TextView;

public class MainActivity extends AppCompatActivity {

    private ViewPager mBanner;

    private int[] mImages = {
            R.drawable.img1,
            R.drawable.img2,
            R.drawable.img3,
            R.drawable.img4,
            R.drawable.img5
    };

    private String[] imageDescriptionArrays = new String[]{
            &quot;第一张图片的描述&quot;,
            &quot;第2张图片的描述&quot;,
            &quot;第3张图片的描述&quot;,
            &quot;第4张图片的描述&quot;,
            &quot;第5张图片的描述&quot;,
    };

    BannerAdapter mBannerAdapter;
    LinearLayout pointGroup;
    TextView tv_image_description;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        mBanner = (ViewPager) findViewById(R.id.viewpager);
        tv_image_description = (TextView) findViewById(R.id.tv_image_description);

        // 默认显示第一张图片描述
        tv_image_description.setText(imageDescriptionArrays[0]);

        // 调用适配器
        mBannerAdapter = new BannerAdapter(this, mImages);
        mBanner.setAdapter(mBannerAdapter);

        // 将小圆点添加到LinearLayout容器中
        initPointGroup();

        // 设置小圆点随着ViewPager切换移动
        setListen();
    }

    // 设置小圆点随着ViewPager切换移动
    private void setListen() {

        // 对ViewPager设置滑动监听
        mBanner.setOnPageChangeListener(new ViewPager.OnPageChangeListener() {

            @Override
            public void onPageScrolled(int position, float positionOffset, int positionOffsetPixels) {

            }

            int lastPosition;

            @Override
            public void onPageSelected(int position) {

                // 设置图片描述  (也可以在viewpager的条目adapter中设置图片描述)
                tv_image_description.setText(imageDescriptionArrays[position]);

                // 设置前一页不选中
                pointGroup.getChildAt(lastPosition).setEnabled(false);

                // 设置当前页面选中
                pointGroup.getChildAt(position).setEnabled(true);

                // 替换位置
                lastPosition = position;
            }

            @Override
            public void onPageScrollStateChanged(int state) {

            }
        });
    }

    // 将小圆点添加到LinearLayout容器中
    private void initPointGroup() {

        pointGroup = (LinearLayout) findViewById(R.id.pointgroup);

        for (int i = 0; i &lt; mImages.length; i++) {
            // 制作底部小圆点
            ImageView pointImage = new ImageView(this);
            pointImage.setImageResource(R.drawable.selector_bg_point);

            // 设置小圆点的布局参数
            LinearLayout.LayoutParams params = new LinearLayout.LayoutParams(5, 5);

            if (i &gt; 0) {
                params.leftMargin = 10;
                pointImage.setEnabled(false);
            } else {
                // 第一个点,点亮
                pointImage.setEnabled(true);
            }
            pointImage.setLayoutParams(params);
            // 添加到容器里
            pointGroup.addView(pointImage);
        }
    }
}  
</code></pre><h4 id="三-无限滑动的ViewPager"><a href="#三-无限滑动的ViewPager" class="headerlink" title="三  无限滑动的ViewPager"></a>三  无限滑动的ViewPager</h4><h5 id="3-1-修改viewpager的adapter中的getCount-和instantiateItem"><a href="#3-1-修改viewpager的adapter中的getCount-和instantiateItem" class="headerlink" title="3.1 修改viewpager的adapter中的getCount()和instantiateItem()"></a>3.1 修改viewpager的adapter中的getCount()和instantiateItem()</h5><pre><code>import android.content.Context;
import android.support.v4.view.PagerAdapter;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.ImageView;

/**
 * Created by wxyass
 */

public class BannerAdapter extends PagerAdapter{

    private LayoutInflater mInflater;
    private int[] mImages;
    private int mSize;

    public BannerAdapter(Context context,int[] mImagesi) {
        mInflater = LayoutInflater.from(context);
        mImages = mImagesi;
        mSize = mImagesi.length;
    }


    // 个数
    @Override
    public int getCount() {
        return Short.MAX_VALUE;
    }

    /**
     * 判断是否可以复用条目
     */
    @Override
    public boolean isViewFromObject(View view, Object object) {
        return view == object;
    }

    /**
     * 初始化条目
     */
    @Override
    public Object instantiateItem(ViewGroup container, int position) {

        int newPosition = position % mSize;

        // 条目布局
        View view = mInflater.inflate(R.layout.item, container, false);
        ImageView imageView = (ImageView) view.findViewById(R.id.image);
        imageView.setImageResource(mImages[newPosition]);

        // 将图片控件添加到容器
        container.addView(view);

        // 返回
        return view;
    }

    /**
     * 销毁条目
     */
    @Override
    public void destroyItem(ViewGroup container, int position, Object object) {
        container.removeView((View) object);
    }
}
</code></pre><h5 id="3-2-修改viewpager滑动监听OnPageChangeListener中的onPageSelected"><a href="#3-2-修改viewpager滑动监听OnPageChangeListener中的onPageSelected" class="headerlink" title="3.2 修改viewpager滑动监听OnPageChangeListener中的onPageSelected"></a>3.2 修改viewpager滑动监听OnPageChangeListener中的onPageSelected</h5><pre><code>// 设置小圆点随着ViewPager切换移动
private void setListen() {

    // 对ViewPager设置滑动监听
    mBanner.setOnPageChangeListener(new ViewPager.OnPageChangeListener() {

        @Override
        public void onPageScrolled(int position, float positionOffset, int positionOffsetPixels) {

        }

        int lastPosition;

        @Override
        public void onPageSelected(int position) {

            int newPosition = position % mImages.length;

            // 设置图片描述  (也可以在viewpager的条目adapter中设置图片描述)
            tv_image_description.setText(imageDescriptionArrays[newPosition]);

            // 设置前一页不选中
            pointGroup.getChildAt(lastPosition).setEnabled(false);

            // 设置当前页面选中
            pointGroup.getChildAt(newPosition).setEnabled(true);

            // 替换位置
            lastPosition = newPosition;
        }

        @Override
        public void onPageScrollStateChanged(int state) {

        }
    });
}
</code></pre><h5 id="3-3-设置第一个条目从中间某个数开始"><a href="#3-3-设置第一个条目从中间某个数开始" class="headerlink" title="3.3 设置第一个条目从中间某个数开始"></a>3.3 设置第一个条目从中间某个数开始</h5><pre><code>@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);

    mBanner = (ViewPager) findViewById(viewpager);
    tv_image_description = (TextView) findViewById(R.id.tv_image_description);

    // 默认显示第一张图片描述
    tv_image_description.setText(imageDescriptionArrays[0]);

    // 调用适配器
    mBannerAdapter = new BannerAdapter(this, mImages);
    mBanner.setAdapter(mBannerAdapter);

    // 将小圆点添加到LinearLayout容器中
    initPointGroup();

    // 设置小圆点随着ViewPager切换移动
    setListen();

    // 设置从中间某个数开始, 左右都可以滑动
    int item = Short.MAX_VALUE/2 - ((Short.MAX_VALUE/2) % mImages.length);
    mBanner.setCurrentItem(item);
}  
</code></pre><h5 id="3-4-无限滑动基本完成-附上MainActivity的代码"><a href="#3-4-无限滑动基本完成-附上MainActivity的代码" class="headerlink" title="3.4 无限滑动基本完成, 附上MainActivity的代码"></a>3.4 无限滑动基本完成, 附上MainActivity的代码</h5><pre><code>import android.os.Bundle;
import android.support.v4.view.ViewPager;
import android.support.v7.app.AppCompatActivity;
import android.widget.ImageView;
import android.widget.LinearLayout;
import android.widget.TextView;

import static com.wxyass.tpbanner.R.id.viewpager;

public class MainActivity extends AppCompatActivity {

    private ViewPager mBanner;

    private int[] mImages = {
            R.drawable.img1,
            R.drawable.img2,
            R.drawable.img3,
            R.drawable.img4,
            R.drawable.img5
    };

    private String[] imageDescriptionArrays = new String[]{
            &quot;第一张图片的描述&quot;,
            &quot;第2张图片的描述&quot;,
            &quot;第3张图片的描述&quot;,
            &quot;第4张图片的描述&quot;,
            &quot;第5张图片的描述&quot;,
    };

    BannerAdapter mBannerAdapter;
    LinearLayout pointGroup;
    TextView tv_image_description;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        mBanner = (ViewPager) findViewById(viewpager);
        tv_image_description = (TextView) findViewById(R.id.tv_image_description);

        // 默认显示第一张图片描述
        tv_image_description.setText(imageDescriptionArrays[0]);

        // 调用适配器
        mBannerAdapter = new BannerAdapter(this, mImages);
        mBanner.setAdapter(mBannerAdapter);

        // 将小圆点添加到LinearLayout容器中
        initPointGroup();

        // 设置小圆点随着ViewPager切换移动
        setListen();

        // 设置从中间某个数开始, 左右都可以滑动
        int item = Short.MAX_VALUE/2 - ((Short.MAX_VALUE/2) % mImages.length);
        mBanner.setCurrentItem(item);
    }

    // 设置小圆点随着ViewPager切换移动
    private void setListen() {

        // 对ViewPager设置滑动监听
        mBanner.setOnPageChangeListener(new ViewPager.OnPageChangeListener() {

            @Override
            public void onPageScrolled(int position, float positionOffset, int positionOffsetPixels) {

            }

            int lastPosition;

            @Override
            public void onPageSelected(int position) {

                int newPosition = position % mImages.length;

                // 设置图片描述  (也可以在viewpager的条目adapter中设置图片描述)
                tv_image_description.setText(imageDescriptionArrays[newPosition]);

                // 设置前一页不选中
                pointGroup.getChildAt(lastPosition).setEnabled(false);

                // 设置当前页面选中
                pointGroup.getChildAt(newPosition).setEnabled(true);

                // 替换位置
                lastPosition = newPosition;
            }

            @Override
            public void onPageScrollStateChanged(int state) {

            }
        });
    }

    // 将小圆点添加到LinearLayout容器中
    private void initPointGroup() {

        pointGroup = (LinearLayout) findViewById(R.id.pointgroup);

        for (int i = 0; i &lt; mImages.length; i++) {
            // 制作底部小圆点
            ImageView pointImage = new ImageView(this);
            pointImage.setImageResource(R.drawable.selector_bg_point);

            // 设置小圆点的布局参数
            LinearLayout.LayoutParams params = new LinearLayout.LayoutParams(5, 5);

            if (i &gt; 0) {
                params.leftMargin = 10;
                pointImage.setEnabled(false);
            } else {
                // 第一个点,点亮
                pointImage.setEnabled(true);
            }
            pointImage.setLayoutParams(params);
            // 添加到容器里
            pointGroup.addView(pointImage);
        }
    }
} 
</code></pre><h4 id="四-实现无限自动轮播的广告图"><a href="#四-实现无限自动轮播的广告图" class="headerlink" title="四 实现无限自动轮播的广告图"></a>四 实现无限自动轮播的广告图</h4><p>自动循环有多种实现方式：  </p>
<p>1、开子线程 while  true 循环<br>2、用handler 发送延时信息，实现循环<br>3、定时器：Timer<br>4、ColckManager </p>
<h5 id="4-1-开子线程-while-true-循环"><a href="#4-1-开子线程-while-true-循环" class="headerlink" title="4.1  开子线程 while  true 循环"></a>4.1  开子线程 while  true 循环</h5><pre><code>private void setThreadAuto(){
    new Thread(){
        public void run() {
            isRunning = true;
            while(isRunning){
                // 睡3秒
                SystemClock.sleep(3000);

                // 在主线程每次将ViewPager向右设置一次
                runOnUiThread(new Runnable() {

                    @Override
                    public void run() {
                        // System.out.println(&quot;设置了新的位置&quot;);
                        mBanner.setCurrentItem(mBanner.getCurrentItem() + 1);
                       Log.d(&quot;wxyass&quot;,(mBanner.getCurrentItem() + 1)+&quot;&quot;);
                    }
                });
            }
        };
    }.start();
}

/**
 * Activity生命周期结束时终止定时，否则可能一直进行下去
 */
@Override
protected void onDestroy() {
    super.onDestroy();
    isRunning = false;
};  
</code></pre><h6 id="4-1-1-写好子线程-然后在onCreate总调用"><a href="#4-1-1-写好子线程-然后在onCreate总调用" class="headerlink" title="4.1.1 写好子线程,然后在onCreate总调用"></a>4.1.1 写好子线程,然后在onCreate总调用</h6><pre><code>@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);

    mBanner = (ViewPager) findViewById(viewpager);
    tv_image_description = (TextView) findViewById(R.id.tv_image_description);

    // 默认显示第一张图片描述
    tv_image_description.setText(imageDescriptionArrays[0]);

    // 调用适配器
    mBannerAdapter = new BannerAdapter(this, mImages);
    mBanner.setAdapter(mBannerAdapter);

    // 将小圆点添加到LinearLayout容器中
    initPointGroup();

    // 设置小圆点随着ViewPager切换移动
    setListen();

    // 设置从中间某个数开始, 左右都可以滑动
    int item = Short.MAX_VALUE/2 - ((Short.MAX_VALUE/2) % mImages.length);
    mBanner.setCurrentItem(item);

    // 设置子线程自动轮播
    setThreadAuto();
}
</code></pre><h5 id="4-2-用handler-发送延时信息，实现循环"><a href="#4-2-用handler-发送延时信息，实现循环" class="headerlink" title="4.2 用handler 发送延时信息，实现循环"></a>4.2 用handler 发送延时信息，实现循环</h5><pre><code>/**
 * 自动滑动的Handler
 * 利用 Handler.sendEmptyMessageDelayed方法，实现定时滚动
 *
 */
private Handler handler = new Handler(){
    public void handleMessage(android.os.Message msg) {
        //让ViewPager滑到下一页
        mBanner.setCurrentItem(mBanner.getCurrentItem()+1);
        //延时，循环调用handler
        if(isRunning){
            handler.sendEmptyMessageDelayed(0, 2000);
            Log.d(&quot;wxyass&quot;,(mBanner.getCurrentItem() + 1)+&quot;&quot;);
        }
    };
};

/**
 * Activity生命周期结束时终止定时，否则可能一直进行下去
 */
@Override
protected void onDestroy() {
    super.onDestroy();
    isRunning = false;
}; 
</code></pre><h6 id="4-2-1-写好Handle-然后在onCreate总调用"><a href="#4-2-1-写好Handle-然后在onCreate总调用" class="headerlink" title="4.2.1 写好Handle,然后在onCreate总调用"></a>4.2.1 写好Handle,然后在onCreate总调用</h6><pre><code>@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);

    mBanner = (ViewPager) findViewById(R.id.viewpager);
    tv_image_description = (TextView) findViewById(R.id.tv_image_description);

    // 默认显示第一张图片描述, 后面会随着滑动改变描述
    tv_image_description.setText(imageDescriptionArrays[0]);

    // 调用适配器
    mBannerAdapter = new BannerAdapter(this, mImages);
    mBanner.setAdapter(mBannerAdapter);

    // 将小圆点添加到LinearLayout容器中
    initPointGroup();

    // 设置小圆点随着ViewPager切换移动
    setListen();

    // 设置从中间某个数开始, 左右都可以滑动
    int item = Short.MAX_VALUE/2 - ((Short.MAX_VALUE/2) % mImages.length);
    mBanner.setCurrentItem(item);

    // 设置子线程自动轮播
    //setThreadAuto();

    // 设置handle自动轮播
    isRunning = true;
    handler.sendEmptyMessageDelayed(0, 2000);
}
</code></pre><h5 id="4-3-定时器：Timer"><a href="#4-3-定时器：Timer" class="headerlink" title="4.3 定时器：Timer"></a>4.3 定时器：Timer</h5><pre><code>private TimerTask mTimerTask = new TimerTask() {
    @Override
    public void run() {
        if (isRunning) {
            // 在主线程每次将ViewPager向右设置一次
            runOnUiThread(new Runnable() {
                @Override
                public void run() {
                    // System.out.println(&quot;设置了新的位置&quot;);
                    mBanner.setCurrentItem(mBanner.getCurrentItem() + 1);
                    Log.d(&quot;wxyass&quot;, (mBanner.getCurrentItem() + 1) + &quot;&quot;);
                }
            });
        }
    }
};

/**
 * Activity生命周期结束时终止定时，否则可能一直进行下去
 */
@Override
protected void onDestroy() {
    super.onDestroy();
    isRunning = false;
    if(mTimer!=null){
        mTimer.cancel();
        mTimer = null;
    }
    if(mTimerTask!=null){
        mTimerTask.cancel();
        mTimerTask = null;
    }
};  
</code></pre><h6 id="4-3-1-写好Timer-然后在onCreate总调用"><a href="#4-3-1-写好Timer-然后在onCreate总调用" class="headerlink" title="4.3.1 写好Timer,然后在onCreate总调用"></a>4.3.1 写好Timer,然后在onCreate总调用</h6><pre><code>@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);

    mBanner = (ViewPager) findViewById(R.id.viewpager);
    tv_image_description = (TextView) findViewById(R.id.tv_image_description);

    // 默认显示第一张图片描述, 后面会随着滑动改变描述
    tv_image_description.setText(imageDescriptionArrays[0]);

    // 调用适配器
    mBannerAdapter = new BannerAdapter(this, mImages);
    mBanner.setAdapter(mBannerAdapter);

    // 将小圆点添加到LinearLayout容器中
    initPointGroup();

    // 设置小圆点随着ViewPager切换移动
    setListen();

    // 设置从中间某个数开始, 左右都可以滑动
    int item = Short.MAX_VALUE / 2 - ((Short.MAX_VALUE / 2) % mImages.length);
    mBanner.setCurrentItem(item);

    // 设置子线程自动轮播
    //setThreadAuto();

    // 设置handle自动轮播
    /*isRunning = true;
    handler.sendEmptyMessageDelayed(0, 2000);*/

    // 设置定时器自动轮播
    isRunning = true;
    mTimer = new Timer();
    mTimer.schedule(mTimerTask, 2000, 5000);//在2秒后每5秒执行一次定时器中的方法
}  
</code></pre><h4 id="五-设置触摸时不自动轮播"><a href="#五-设置触摸时不自动轮播" class="headerlink" title="五 设置触摸时不自动轮播"></a>五 设置触摸时不自动轮播</h4><h5 id="5-1-添加触摸监听-触摸时不自动轮播"><a href="#5-1-添加触摸监听-触摸时不自动轮播" class="headerlink" title="5.1 添加触摸监听,触摸时不自动轮播"></a>5.1 添加触摸监听,触摸时不自动轮播</h5><pre><code>// 设置触摸时不自动轮播
private void setTouchNoAuto() {
    mBanner.setOnTouchListener(new View.OnTouchListener() {
        @Override
        public boolean onTouch(View v, MotionEvent event) {
            int action = event.getAction();
            if (action == MotionEvent.ACTION_DOWN|| action == MotionEvent.ACTION_MOVE) {
                isRunning = false;
            } else if (action == MotionEvent.ACTION_UP) {
                isRunning = true;
            }
            return false;
        }
    });
}
</code></pre><h5 id="5-2-在代码onCreate中调用"><a href="#5-2-在代码onCreate中调用" class="headerlink" title="5.2 在代码onCreate中调用"></a>5.2 在代码onCreate中调用</h5><pre><code>@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);

    mBanner = (ViewPager) findViewById(R.id.viewpager);
    tv_image_description = (TextView) findViewById(R.id.tv_image_description);

    // 默认显示第一张图片描述, 后面会随着滑动改变描述
    tv_image_description.setText(imageDescriptionArrays[0]);

    // 调用适配器
    mBannerAdapter = new BannerAdapter(this, mImages);
    mBanner.setAdapter(mBannerAdapter);

    // 将小圆点添加到LinearLayout容器中
    initPointGroup();

    // 设置小圆点随着ViewPager切换移动
    setListen();

    // 设置从中间某个数开始, 左右都可以滑动
    int item = Short.MAX_VALUE / 2 - ((Short.MAX_VALUE / 2) % mImages.length);
    mBanner.setCurrentItem(item);

    // 设置子线程自动轮播
    //setThreadAuto();

    // 设置handle自动轮播
    /*isRunning = true;
    handler.sendEmptyMessageDelayed(0, 2000);*/

    // 设置定时器自动轮播
    isRunning = true;
    mTimer = new Timer();
    mTimer.schedule(mTimerTask, 2000, 5000);//在2秒后每5秒执行一次定时器中的方法

    // 设置触摸时不自动轮播
    setTouchNoAuto();
}
</code></pre><h4 id="六-项目源码"><a href="#六-项目源码" class="headerlink" title="六 项目源码"></a>六 项目源码</h4><p>项目已经传到云端,有兴趣的可以下载看看.<br><a href="http://oss.wxyass.com/wxyass/demo/TPbanner.rar" target="_blank" rel="external">项目下载</a>     </p>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/ViewPager/" rel="tag"># ViewPager</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2017/06/28/Button--绘制圆角Button/" rel="next" title="绘制圆角Button">
                <i class="fa fa-chevron-left"></i> 绘制圆角Button
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2017/07/05/图片处理--开源框架Universal-Image-Loader解析/" rel="prev" title="开源框架Universal-Image-Loader解析">
                开源框架Universal-Image-Loader解析 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          
            <img class="site-author-image" itemprop="image"
              src="http://oss.wxyass.com/avatar/shuai.jpeg"
              alt="wxyass" />
          
            <p class="site-author-name" itemprop="name">wxyass</p>
            <p class="site-description motion-element" itemprop="description">该搬砖了</p>
        </div>

        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
            
              <a href="/archives/">
            
                <span class="site-state-item-count">107</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              <a href="/categories/index.html">
                <span class="site-state-item-count">46</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">39</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-4"><a class="nav-link" href="#一-初步搭起viewpager轮播"><span class="nav-number">1.</span> <span class="nav-text">一 初步搭起viewpager轮播</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#1-1-在activity-main-xml中放置viewpager控件"><span class="nav-number">1.1.</span> <span class="nav-text">1.1 在activity_main.xml中放置viewpager控件</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#1-2-代码中准备数据"><span class="nav-number">1.2.</span> <span class="nav-text">1.2 代码中准备数据</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#1-3-设置适配器"><span class="nav-number">1.3.</span> <span class="nav-text">1.3 设置适配器</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#1-4-附上viewpager的adapter条目的布局"><span class="nav-number">1.4.</span> <span class="nav-text">1.4  附上viewpager的adapter条目的布局</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#1-5-代码中调用适配器"><span class="nav-number">1.5.</span> <span class="nav-text">1.5 代码中调用适配器</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#二-添加底部小圆点"><span class="nav-number">2.</span> <span class="nav-text">二 添加底部小圆点</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#2-1-修改activity-main-xml布局"><span class="nav-number">2.1.</span> <span class="nav-text">2.1 修改activity_main.xml布局</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#2-2-制作小圆点颜色选择器"><span class="nav-number">2.2.</span> <span class="nav-text">2.2 制作小圆点颜色选择器</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#2-3-将小圆点添加到LinearLayout容器中"><span class="nav-number">2.3.</span> <span class="nav-text">2.3 将小圆点添加到LinearLayout容器中</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#2-4-设置小圆点随着ViewPager切换移动"><span class="nav-number">2.4.</span> <span class="nav-text">2.4 设置小圆点随着ViewPager切换移动</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#2-5-在代码onCreate中调用"><span class="nav-number">2.5.</span> <span class="nav-text">2.5 在代码onCreate中调用</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#三-无限滑动的ViewPager"><span class="nav-number">3.</span> <span class="nav-text">三  无限滑动的ViewPager</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#3-1-修改viewpager的adapter中的getCount-和instantiateItem"><span class="nav-number">3.1.</span> <span class="nav-text">3.1 修改viewpager的adapter中的getCount()和instantiateItem()</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#3-2-修改viewpager滑动监听OnPageChangeListener中的onPageSelected"><span class="nav-number">3.2.</span> <span class="nav-text">3.2 修改viewpager滑动监听OnPageChangeListener中的onPageSelected</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#3-3-设置第一个条目从中间某个数开始"><span class="nav-number">3.3.</span> <span class="nav-text">3.3 设置第一个条目从中间某个数开始</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#3-4-无限滑动基本完成-附上MainActivity的代码"><span class="nav-number">3.4.</span> <span class="nav-text">3.4 无限滑动基本完成, 附上MainActivity的代码</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#四-实现无限自动轮播的广告图"><span class="nav-number">4.</span> <span class="nav-text">四 实现无限自动轮播的广告图</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#4-1-开子线程-while-true-循环"><span class="nav-number">4.1.</span> <span class="nav-text">4.1  开子线程 while  true 循环</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#4-1-1-写好子线程-然后在onCreate总调用"><span class="nav-number">4.1.1.</span> <span class="nav-text">4.1.1 写好子线程,然后在onCreate总调用</span></a></li></ol></li><li class="nav-item nav-level-5"><a class="nav-link" href="#4-2-用handler-发送延时信息，实现循环"><span class="nav-number">4.2.</span> <span class="nav-text">4.2 用handler 发送延时信息，实现循环</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#4-2-1-写好Handle-然后在onCreate总调用"><span class="nav-number">4.2.1.</span> <span class="nav-text">4.2.1 写好Handle,然后在onCreate总调用</span></a></li></ol></li><li class="nav-item nav-level-5"><a class="nav-link" href="#4-3-定时器：Timer"><span class="nav-number">4.3.</span> <span class="nav-text">4.3 定时器：Timer</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#4-3-1-写好Timer-然后在onCreate总调用"><span class="nav-number">4.3.1.</span> <span class="nav-text">4.3.1 写好Timer,然后在onCreate总调用</span></a></li></ol></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#五-设置触摸时不自动轮播"><span class="nav-number">5.</span> <span class="nav-text">五 设置触摸时不自动轮播</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#5-1-添加触摸监听-触摸时不自动轮播"><span class="nav-number">5.1.</span> <span class="nav-text">5.1 添加触摸监听,触摸时不自动轮播</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#5-2-在代码onCreate中调用"><span class="nav-number">5.2.</span> <span class="nav-text">5.2 在代码onCreate中调用</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#六-项目源码"><span class="nav-number">6.</span> <span class="nav-text">六 项目源码</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">wxyass</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动</div>

  <span class="post-meta-divider">|</span>

  <div class="theme-info">主题 &mdash; <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">NexT.Gemini</a> v5.1.2</div>


        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.2"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.2"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.2"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.2"></script>



  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.2"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.2"></script>


  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.2"></script>



  


  




	





  





  








  





  

  

  

  

  

  

</body>
</html>
